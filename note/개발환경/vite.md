# vite

## vite

vite íŒ¨í‚¤ì§€ ì‹¤í–‰

```typescript
npm create vite@latest
```

í•´ë‹¹ íŒ¨í‚¤ì§€ì—ì„œ node_module ì„¤ì¹˜

```typescript
cd [í´ë”ëª…]
npm i
```

## .gitignore

- [github node gitignore](https://github.com/github/gitignore/blob/main/Node.gitignore)

```typescript
# Logs
logs
*.log
npm-debug.log*
yarn-debug.log*
yarn-error.log*
lerna-debug.log*
.pnpm-debug.log*

# Diagnostic reports (https://nodejs.org/api/report.html)
report.[0-9]*.[0-9]*.[0-9]*.[0-9]*.json

# Runtime data
pids
*.pid
*.seed
*.pid.lock

# Directory for instrumented libs generated by jscoverage/JSCover
lib-cov

# Coverage directory used by tools like istanbul
coverage
*.lcov

# nyc test coverage
.nyc_output

# Grunt intermediate storage (https://gruntjs.com/creating-plugins#storing-task-files)
.grunt

# Bower dependency directory (https://bower.io/)
bower_components

# node-waf configuration
.lock-wscript

# Compiled binary addons (https://nodejs.org/api/addons.html)
build/Release

# Dependency directories
node_modules/
jspm_packages/

# Snowpack dependency directory (https://snowpack.dev/)
web_modules/

# TypeScript cache
*.tsbuildinfo

# Optional npm cache directory
.npm

# Optional eslint cache
.eslintcache

# Optional stylelint cache
.stylelintcache

# Microbundle cache
.rpt2_cache/
.rts2_cache_cjs/
.rts2_cache_es/
.rts2_cache_umd/

# Optional REPL history
.node_repl_history

# Output of 'npm pack'
*.tgz

# Yarn Integrity file
.yarn-integrity

# dotenv environment variable files
.env
.env.development.local
.env.test.local
.env.production.local
.env.local

# parcel-bundler cache (https://parceljs.org/)
.cache
.parcel-cache

# Next.js build output
.next
out

# Nuxt.js build / generate output
.nuxt
dist

# Gatsby files
.cache/
# Comment in the public line in if your project uses Gatsby and not Next.js
# https://nextjs.org/blog/next-9-1#public-directory-support
# public

# vuepress build output
.vuepress/dist

# vuepress v2.x temp and cache directory
.temp
.cache

# Docusaurus cache and generated files
.docusaurus

# Serverless directories
.serverless/

# FuseBox cache
.fusebox/

# DynamoDB Local files
.dynamodb/

# TernJS port file
.tern-port

# Stores VSCode versions used for testing VSCode extensions
.vscode-test

# yarn v2
.yarn/cache
.yarn/unplugged
.yarn/build-state.yml
.yarn/install-state.gz
.pnp.*
```

## ESLint ì„¤ì¹˜ ë° í™˜ê²½ì„¤ì •

[typescript-eslint ê³µì‹ë¬¸ì„œ](https://typescript-eslint.io/getting-started/)

ì„¤ì¹˜

```typescript
npm install --save-dev @typescript-eslint/parser @typescript-eslint/eslint-plugin eslint typescript eslint-plugin-react eslint-plugin-jsx-a11y
```

.eslintrc.\* ì†ì„± ì¶”ê°€

- module is not definedê°€ ëœ° ê²½ìš°ë¥¼ ëŒ€ë¹„í•˜ì—¬ ì•„ë˜ì˜ ì†ì„±ê°’ì„ ë„£ì–´ì¤€ë‹¤.

```typescript
{
  ...
  "env": {... node: true}
  ...
}
```

package.json íŒŒì¼ ì†ì„± ì¶”ê°€

- --cache ì˜µì…˜ì„ ì‚¬ìš©í•˜ë©´ lint ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•  ë•Œ ëª¨ë“  ì½”ë“œë¥¼ ê²€ì‚¬í•˜ì§€ ì•Šê³  ë³€ê²½ëœ íŒŒì¼ë§Œ ê²€ì‚¬í•œë‹¤.

```typescript
{
  "script": {
    ...
    "lint": --cache
    ...
  }
}
```

## Prettier

[Prettier ê³µì‹ë¬¸ì„œ](https://prettier.io/docs/en/index.html)

prettier ì„¤ì¹˜

- eslintì™€ prettierë¥¼ í•¨ê»˜ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” pluginê³¼ ì¶©ëŒì„ ë°©ì§€í•´ì£¼ëŠ” config ì„¤ì¹˜

```typescript
npm install --save-dev prettier eslint-plugin-prettier eslint-config-prettier
```

.prettierrc.cjs íŒŒì¼ ìƒì„±

```typescript
module.exports = {
  trailingComma: 'es5',
  tabWidth: 2,
  semi: true,
  singleQuote: false,
};
```

plugin ì—°ê²° (.eslintrc.cjs íŒŒì¼ ìˆ˜ì •)

- ë˜ëŠ” rulesë¥¼ ë³€ê²½í•¨ìœ¼ë¡œ ì»¤ìŠ¤í…€ì„ ì ìš©í•  ìˆ˜ ìˆë‹¤

```typescript
{
  ...
  "extends": "plugin:prettier/recommended",
  ...
}
```

prettier ì‹¤í–‰

- package.jsonì— ì½”ë“œ ì¶”ê°€

```typescript
script: {
  ...
  "format": "prettier --cache --write .",
}
```

## import path ê²½ë¡œ ì¤„ì´ê¸°

vite-tsconfig-paths ì„¤ì¹˜

```typescript
npm i -D vite-tsconfig-paths
```

vite-config.ts íŒŒì¼ tsconfigPaths() ì½”ë“œ ì¶”ê°€

```typescript
import { defineConfig } from 'vite';
import react from '@vitejs/plugin-react';
import tsconfigPaths from 'vite-tsconfig-paths';

// https://vitejs.dev/config/
export default defineConfig({
  plugins: [react(), tsconfigPaths()],
});
```

tsconfig.json íŒŒì¼ ì½”ë“œ ì¶”ê°€

```typescript
compilerOptions: {
  ...
  "baseUrl": "src",
  "paths": {
    "@/*": ["*"],
    "@components/*": ["components/*"]
  }
  ...
}
```

### í…ŒìŠ¤íŠ¸ ë„êµ¬ ì„¤ì¹˜ (Vitest)

[Vitest ê³µì‹ ë¬¸ì„œ](https://vitest.dev/guide/)

vitest ì„¤ì¹˜ ëª…ë ¹ì–´

```typescript
npm install -D vitest jsdom @testing-library/react @testing-library/jest-dom
```

package.json ëª…ë ¹ì–´ ì…ë ¥

```typescript
  "scripts": {
    "test": "vitest",
  }
```

tests/setup.ts íŒŒì¼ ìƒì„± ë° ì„¤ì •

```typescript
import { afterEach } from 'vitest';
import { cleanup } from '@testing-library/react';
import '@testing-library/jest-dom/vitest';

afterEach(() => {
  cleanup();
});
```

vite.config.js íŒŒì¼ ìƒì„± ë° ì„¤ì •

```typescript
 test: {
  environment: 'jsdom',
  setupFiles: ['./tests/setup.ts'],
  testMatch: ['./tests/**/*.test.tsx'],
  globals: true
 }
```

tsconfig.json, tsconfig.node.json íŒŒì¼ì— global ì¶”ê°€

```typescript
// tsconfig.json
// tsconfig.node.json

  "compilerOptions": {
    ...
    "types": ["vitest/globals"]
    ...
  },
```

test ì»´í¬ë„ŒíŠ¸ ë§Œë“¤ê¸°

```typescript
// tests/App.test.tsx

import { render, screen } from '@testing-library/react';
import App from '../src/App';
// import { describe, expect, it } from "vitest";

describe('App', () => {
  it('renders headline', () => {
    render(<App />);
    const headline = screen.getByText(/It works and you found me!/i);
    expect(headline).toBeInTheDocument();
  });
});

// App.tsx
import './App.css';

function App() {
  return (
    <div>
      <h1>It works and you found me!</h1>
    </div>
  );
}

export default App;
```

ğŸ’© Error

### 'Assertion<HTMLElement>' í˜•ì‹ì— 'toBeInTheDocument' ì†ì„±ì´ ì—†ìŠµë‹ˆë‹¤

tsconfig.json íŒŒì¼ì— ì•„ë˜ ì½”ë“œ ì¶”ê°€

```typescript
compileOptions: {
  "types": ["vitest/globals", "@testing-library/jest-dom"]
}
```

### 'React'ëŠ” UMD ì „ì—­ì„ ì°¸ì¡°í•˜ì§€ë§Œ í˜„ì¬ íŒŒì¼ì€ ëª¨ë“ˆì…ë‹ˆë‹¤

tsconfig.json íŒŒì¼ì— ì•„ë˜ ì½”ë“œ ì¶”ê°€

```typescript
{
  "compilerOptions": {
      ...
    },
  "include": ["src", "**/*.tsx"]
}
```

ê·¸ ì™¸ ì°¸ê³  ë¬¸ì„œ

- [DaleSeo](https://www.daleseo.com/vitest/)
-
